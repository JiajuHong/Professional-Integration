# 2.2物联网关键技术

物联网是典型的交叉学科，它所涉及的核心技术包括IPv6技术、云计算技术、传感技术、RFID智能识别技术、无线通信技术等。

## 1、物联网三层体系结构

物联网的三层体系结构：底层是用来感知数据的**感知层**；第二层是数据传输的**网络层**；最上层是**应用层**

![image-20221105181931696](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/13837/image-20221105181931696.png)

### 感知层

感知层实现对物理世界的**智能感知识别、信息采集处理和自动控制**，并通过通信模块将物理实体连接到网络层和应用层。

### 网络层

网络层主要实现**信息的传递、路由和控制**，包括延伸网、接入网和核心网，网络层可依托公众电信网和互璇网.也可以依托行业专用通信网络。

### 应用层

应用层类似于人类社会的“分工”。包括应用基础设施/中间件和**各种物联网应用**，应用基础设施/中间件为物联网应用提供信息处理、计算等通用基础服务设施、能力及资源调用接口，以此为基础实现物联网在众多领域的各种应用。

## 2、感知层关键技术

感知层关键技术主要有

1. RFID技术
2. 条码技术
3. 传感器技术
4. GPS技术
5. 电子产品代码（RPC）
6. 无线传感器网络

### RFID技术

```tex
RFID(RadioFrequencyIdentification)，即射频识别，俗称电子标签。
RFID射频识别是一种非接触式的自动识别技术，可识别高速运动物体并可同时识别多个标签,操作快捷方便。
通过射频信号自动识别对象并获取相关数据完成信息的自动采集工作,RFID是物联网最关键的一个技术，它为物体贴上电子标签，实现高效灵活的管理。
```

RFID的组成

![image-20221106192946974](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/13837/image-20221106192946974.png)

RFID工作原理

```tex
标签进入磁场后，接收解读器发出的射频信号，凭借感应电流所获得的能量发送出存储在芯片中的产品信息(PassiveTag,无源标签或被动标签)，或者主动发送某一频率的信号(ActiveTag,有源标签或主动标签);解读器读取信息并解码后，送至中央信息系统进行有关数据处理。
```

RFID的优点

```tex
1、扫描效率高
2、体积小、造型多样
3、抗污染能力强、耐久性好
4、可重复使用
5、无障碍读取
6、数据存储量大
7、安全性高
8、寿命长
```

标签（Tag）分类

1. 供电方式分：
   - 有源标签（主动发射射频信号）
   - 无源标签（电磁感应短暂供电）
2. 通信方式分：
   - 主动式（主动发射射频信号）
   - 被动式
   - 半被动式
3. 从芯片（存储）方式分:
   - 只读标签
   - 读写标签
   - CPU标签

###  条码技术

条形码是一种信息的图形化处理方法，可以把信息复制成条形码，然后用相应的扫描设备将其中信息输入到计算机中。

```tex
条形码分为一维条码和二维条码。
一维条形码将宽度不等的多个黑条和空白，按一定的编码规则排列，用以表达一组信息的图形标识符。
二维条形码是在二维空间水平和竖直方向存储信息的条形码。它的优点是信息容量大，译码可靠性高，纠错能力强，制作成本低，保密与防伪性能好。
二维码识别方式有两种：1、通过线型扫描器逐层扫描解码 2、通过照相和图像处理进行解码。
堆叠式二维码上述两种方式都可以识读，大多数矩阵式二维码必须用照相方法进行识读。
```

![image-20221105184243133](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/13837/image-20221105184243133.png)

### 传感器技术

传感器是指能感知预定的被测指标并按照一定规律转换成可用信号的器件和装置，通常由**敏感元件**和**转换元件**组成。

```tex
传感器是一种检测装置，能感受到被测量的信息,并能将检测感受到的信息，按一定规律变换成为电信号或其他所需形式的信息输出，以满足信息的传输、处理、存储、显示、记录和控制等要求。
```

**敏感元件**是能够直接感受被测量，并直接对被测量产生响应输出的部分。响应可以是微弱的电流电压变化、电阻电容电感的变化，不能被直接使用。

**转换元件**、**变换电路**在**辅助电源**的帮助下，把原始的响应进行处理，输出一个能被直接使用的且与被测量成比例的电量。

![image-20221105195417104](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/13837/image-20221105195417104.png)

物联网中传感器节点是在传感器基础上增加了协同、计算、通信功能构成了具有感知能力、计算能力和通信能力的传感器节点。智能化是传感器的重要特点，嵌入式智能技术是实现传感器智能化的重要手段。

传感器的分类

1. 根据所测物理量分
   - 温度传感器、加速度传感器、角度传感器、位置传感器、气体浓度传感器
   - 接近传感器、姿态传感器、动作传感器
2. 根据传感器输出信号分
   - 模拟信号：温度传感器 AD590
   - 数字信号：温度传感器 DS18B20
   - 开关量传感器（输出两种状态）：热释电红外入侵传感器
3. 新型传感器：微型化、数字化、智能化、系统化、网络化、功能化
   - 多功能传感器（可感受多种被测量）：DHT11温湿度传感器
   - 微机电系统（MEMS，微电子与传感器结合）：医疗、汽车电子、运动追踪、手机
   - 智能传感器（信息处理功能）：智能穿戴终端、智能仪表

**无线传感器网络**

无线传感器网络(WSN,wirelesssensornetwork)是集分布式信息采集、信息传输和信息处理技术于一体的网络信息系统，具有低成本、微型化、低功耗、灵活的组网及铺设方式、适用于移动目标等特点。

### 电子产品代码（EPC）

EPC系统(物联网)是在计算机互联网和射频技术RFID的基础上，利用全球统标识系统编码技术给每一个实体对象个唯一的代码，构造了一个实现全球物品信息实时共享的实物互联网"Internet of things”。

EPC系统主要由如下六方面组成:

(1)EPC编码标准:96位二进制编码方式，原则是：唯一性、简单性、可拓展性、保密性与安全性。
(2)EPC标签口
(3)识读器

(4)Savant(神经网络软件)：如Savant

(5)对象名解析服务(ObjectNamingService:ONS)
(6)实体标记语言(PhysicalMarkupLanguagePML)

**EPC/RFID电子标签的数据特点**

1. 无接触读取

2. 远距离读取

3. 动态读取

4. 多数量、品种读取

5. 标签无源

6. 海量存储量

   ......

采用EPC电子标签技术，可以实现数字化库房管理；并配合使用EPC编码，使得库存货品真正实现网络化管理。

**EPC的特性**

- 科学性
- 兼容性
- 全面性
- 合理性
- 国际性
- 无歧视性

## 3、网络层关键技术

### ZigBee

ZigBee（紫蜂）技术是一种**近距离、低复杂度、低功耗、低速率、低成本**的**双向无线通讯技术**。这一名称来源于蜜蜂的八字舞，由于蜜蜂(bee)是靠飞翔和“嗡嗡”(zig)地抖动翅膀的“舞蹈”来与同伴传递花粉所在方位信息，也就是说蜜蜂依靠这样的方式构成了群体中的通信网络。ZigBee广泛应用于智能家居、楼宇自动化、工业自动化等。

#### ZigBee的特点

ZigBee网络主要特点是低功耗、低成本、时延短、网络容量大（一个ZigBee网络最多可容纳254个从设备和1个主设备，一个区域内最多可以同时存在100个ZigBee网络，而且组网灵活）、可靠、安全。主要适合用于自动控制和远程控制领域，可以嵌入各种设备。

#### ZigBee设备类型

1.ZigBee协调器(Coordinator)
2.ZigBee路由器(Router)
3.ZigBee终端设备(End-device)

RFD(精简功能设备)只能作为终端设备。

FFD(全功能设备)可以作为协调器、路由器和终端设备。

**一个ZigBee网络由一个协调器节点、多个路由器和多个终端设备节点组成**

ZigBee网络结构分为4层，从下到上分为：物理层、MAC层、网络层、应用层。

#### 物理层

<font color=red>物理层位于ZigBee无线网络的最底层，是距离硬件最近的层，它直接控制并与无线收发器通信。物理层负责激活发送或接收数据包的无线设备。</font>物理层还选择信道频率并确保该频道当前没有被任何一个其他网络中的设备使用。

物理层提供的服务实现设备之间的数据帧传输，解决共享信道的问题。



#### MAC层

MAC层主要完成产生网络信标、信标同步、使用CMSA-CA（载波侦听多路访问/冲突避免）机制访问物理信道等任务。

ZigBee网络可以分为信标（Beacon）和非信标（Non-beacon）两种工作模式。

为最大限度节约能源消耗，**信标模式**可以使所有网络设备同步工作和同步休眠；

**非信标模式**下，协调器和路由器必须长时间处于工作状态，**只允许终端设备周期性进入休眠模式**。



#### 网络层

网络层接口负责管理网络形成和路径选择。

路径选择就是选择将信息转发到目标设备的路径。



#### 应用层

应用层是ZigBee无线网络中的最高协议层，管理应用对象。



```tex
1、ZigBee使用免执照频段：工业科学理疗（ISM）频段、915MHz（美国）、868MHz（欧洲），2.4GHz（全球）
2、在ZigBee协议架构中属于IEEE802.15.4（低功耗、低成本、低速率的局域网）标准定义的是物理层和MAC层。
3、ZigBee支持的网络拓扑结构：星型、树形、网状。
```



### Wi-Fi

```tex
1、Wi-Fi是一种可以将个人电脑、手持设备(如PDA、手机)等终端以**无线方式**互相连接的技术。
2、Wi-Fi是一个无线网路通信技术的品牌，由Wi-Fi联盟(Wi-FiAlliance)所持有。目的是改善基于IEEE802.11标准的无线网路产品之间的互通性。
3、Wi-Fi的优势：
	1. 无线电波的覆盖范围广
	2. 传输速度非常快
	3. 厂商进入该领域的门槛较低
4、Wi-Fi的工作频段：2.4GHz/5.0GHz
5、连接Wi-Fi过程：扫描网路、认证过程、关联过程
```



> 802.11是IEEE(电子工程师协会)最初制定的一个无线局域网标准，主要用于解决办公室局域网和校园网中，户与用户终端的无线接入，业务主要限于数据存取。



### 蓝牙

蓝牙，是一种支持设备**短距离通信**(一般10m内)的无线电技术。能在包括移动电话、PDA、无线耳机、笔记本电脑、相关外设等众多设备之间进行**无线**信息交换。

蓝牙特点：

1. 全球范围内使用
2. 同时可传输语音和数据
3. 可以建立临时性的对等连接
4. 具有很好的抗干扰能力
5. 蓝牙模块很小便于集成
6. 低功耗
7. 开放的接口标准
8. 成本低
9. 近距离传输

```tex
1、蓝牙技术采用分散式网络结构以及快跳频率和短包技术以及时分双工传输方案实现全双工传输，完成支持点对点以及点对多点通信，工作在全球通用的2.4GHz ISM（工业、科学、医学）频段，其数据传输速率为1Mbps.
2、有两种蓝牙技术体系：
	1.Bluetooth Basic Rate（BBR）
	2.Bluetooth Low Energy（BLE）
3、蓝牙3.0Bluetooth High Speed技术可用于数据的高速传输，好比在设备间传输很大的音频或视频文件，批量下载照片等。
4、Bluetooth Low Energy（BLE，4.0）技术体系比BBR技术具有低功耗、低复杂度、开支小、低速率等特点。
5、蓝牙5.0。相比以前的技术，蓝牙5.0在稳定性和兼容性方向都有了提高，通信速度实现了翻倍，传输距离提高到了300米，增加了MESH（无线网络网格，多跳（multi-hop）网络）组网功能，在室内wifi的配合下，可以实现精度小于1m的室内定位。使用场景：商场内精准导购、楼宇自动化控制等。
6、蓝牙和WiFi都运行于2.4GHz频率。
7、蓝牙也可以用于802.11b那样的百米级传输，但是更多用于短距离传输。
8、常见设备：蓝牙耳机、蓝牙音响、蓝牙键鼠。
```

### GPS技术

GPS(GlobalPositioningSystem,全球定位系统)是利用GPS定位卫星，在全球范围内实时进行定位、导航的系统。

全球四大卫星导航系统:美国全球定位系统(GPS)、俄罗斯“格洛纳斯”系统、欧洲“伽利略”系统、中国“北斗”系统。

```tex
1、最早由美国于1973年研制，起初完全是一个军用导航系统，1983年开始用于解决大地测量问题。系统最终构成在1993/1994年间完成。
```

GPS系统的构成

1. 空间部分（卫星星座）：主动式工作卫星（23颗）、3个备用卫星
2. 控制部分（地面控制系统）：一个主控站，三个注入站，五个监测站组成
3. 用户部分（信号接收处理）：不同类型的接收机和相关设备及软件

GPS技术应用

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/13837/image-20221105224534274.png)

#### 北斗系统

```tex
1、由5颗静止轨道卫星和30颗非静止轨道卫星组成。
2、北斗一号精确度在10米之内，而北斗二号可以精确到厘米之内。
3、在物联网感知层，北斗系统的定位、授时功能可完成精准时间信息和位置信息感知的任务。
4、在物联网网络层，北斗系统的短报文通信功能可实现感知信息和控制信息的全天候、全天时、无缝隙传递。
```



### 网络层技术对比

![image-20221105224738720](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/13837/image-20221105224738720.png)

蓝牙、wifi、ZigBee的区别

| 技术   | 传输距离 | 速率    | 功耗                 | 应用范围                               | 特点                                                     |
| ------ | -------- | ------- | -------------------- | -------------------------------------- | -------------------------------------------------------- |
| 蓝牙   | 2-30M    | 1Mbps   | 介于ZigBee和WiFi之间 | 通信、汽车、多媒体、工业、医疗、教育等 | 采用简单的GFSK调制，待机和运行功耗极低。                 |
| WiFi   | 100-300M | 300Mbps | 10-50mA              | 无线上网、PC、PDA                      | 传输速度很快，健康安全，辐射小                           |
| ZigBee | 50-300M  | 250kbps | 5mA                  | 自动控制和远程控制，可嵌入各种设备     | 近距离、低复杂度、自组织、低功耗、数据传输速率低、低成本 |

## 4、应用层关键技术

物联网与云计算、大数据、人工智能技术的关系可以用下图表示：

![image-20221105225902845](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/13837/image-20221105225902845.png)

- IoT和IoI

​	IoT，Internet of Things，物联网；IoI，Internet of Information，互联网；

​	这两张网是用来将所有事物和信息联系起来，为何要联系起来呢？因为将事物和信息联系起来后，数据才有了	关联，数据有了关联才能产生更大的价值。例如一辆车的位置数据没有太大价值，但几千辆车的位置数据关联	起来，就可以用来判断路面拥堵情况，也可以用于交通调度。

- 云计算

​	物联网和互联网产生大量的数据，这些数据肯定要找一个地方集中存储和处理，这就必须要有云计算了。如果	没有云计算，一台冰箱产生的数据都要部署独立一台后台服务器来接收，成本和便利性无法接受。云计算的作	用就在于将海量数据集中存储和处理。

- 大数据

​	海量数据上传到云计算平台后，自然而然的就需要对数据进行深入分析和挖掘了，这就是大数据的目的。将几	千辆车的位置信息综合起来分析出某条路的拥堵状况；将某个城市几百万人的健康状况综合分析，也许就可以	得出某个工厂周围某种疾病的发病率比较高的结论。。。。。。这些都是大数据做的事情。

- 人工智能

​	大数据是基于海量数据进行分析从而发现一些隐藏的规律、现象、原理等，而人工智能在大数据的基础上更进	一步，人工智能会分析数据，然后根据分析结果做出行动，例如无人驾驶，自动医学诊断。
